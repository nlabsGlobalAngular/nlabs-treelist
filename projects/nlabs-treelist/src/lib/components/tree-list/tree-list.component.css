/* Tema Switcher */
.theme-switcher {
  display: flex;
  gap: 0.5rem;
  padding: 0.75rem;
  background: var(--treelist-bg, #f8fafd);
  border-radius: 12px;
  border: 1px solid var(--treelist-border, #e3e8ef);
  margin-bottom: 1rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.theme-btn {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  padding: 0.75rem 1rem;
  border: 2px solid var(--treelist-border, #e3e8ef);
  border-radius: 8px;
  background: var(--treelist-bg, #ffffff);
  color: var(--treelist-text, #1a2233);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  font-size: 0.875rem;
  font-weight: 500;
}

.theme-btn:hover {
  border-color: var(--checkbox-hover-border, #1976d2);
  background: var(--treelist-hover, #f0f4fa);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(25, 118, 210, 0.15);
}

.theme-btn.active {
  border-color: var(--checkbox-checked-bg, #1976d2);
  background: var(--checkbox-checked-bg, #1976d2);
  color: #ffffff;
  box-shadow: 0 4px 12px rgba(25, 118, 210, 0.3);
}

.theme-btn:active {
  transform: translateY(0);
}

.theme-icon {
  font-size: 1.5rem;
  line-height: 1;
}

.theme-label {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

ul {
  list-style-type: none;
  padding: 0.5rem;
  margin: 0;
  background: var(--treelist-bg, #f8fafd);
  border-radius: 12px;
  box-shadow: 0 4px 24px 0 rgba(30, 34, 45, 0.10);
  border: 1px solid var(--treelist-border, #e3e8ef);
  min-width: 320px;
  max-width: 100%;
  transition: background 0.3s, box-shadow 0.3s;
}

ul ul {
  padding-left: 2rem;
  border: none;
  box-shadow: none;
  background: transparent;
  margin-top: 0.25rem;
}

li {
  margin: 0;
  padding: 0;
  display: block;
  position: relative;
}

.treelist-content {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  border-radius: 8px;
  transition: background 0.2s, box-shadow 0.2s;
  min-height: 40px;
}

.treelist-content:hover {
  background: var(--treelist-hover, #e9f1fa);
}

input.treelist-checkbox {
  position: relative;
  margin: 0;
  width: 20px;
  height: 20px;
  cursor: pointer;
  flex-shrink: 0;
  appearance: none;
  -webkit-appearance: none;
  border: 2px solid var(--checkbox-border, #c1c9d4);
  border-radius: 5px;
  background-color: var(--checkbox-bg, #ffffff);
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

input.treelist-checkbox:hover {
  border-color: var(--checkbox-hover-border, #1976d2);
  box-shadow: 0 0 0 4px rgba(25, 118, 210, 0.08), 0 2px 4px rgba(0, 0, 0, 0.08);
  transform: scale(1.05);
}

input.treelist-checkbox:checked {
  background-color: var(--checkbox-checked-bg, #1976d2);
  border-color: var(--checkbox-checked-border, #1976d2);
  box-shadow: 0 2px 8px rgba(25, 118, 210, 0.25);
}

input.treelist-checkbox:checked::before {
  content: '';
  position: absolute;
  top: 2px;
  left: 6px;
  width: 4px;
  height: 9px;
  border: solid white;
  border-width: 0 2.5px 2.5px 0;
  transform: rotate(45deg);
  opacity: 1;
}

input.treelist-checkbox:focus-visible {
  outline: none;
  border-color: #1976d2;
  box-shadow: 0 0 0 4px rgba(25, 118, 210, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
}

input.treelist-checkbox:active {
  transform: scale(0.95);
}

span.treelist-name {
  font-size: 0.95rem;
  font-weight: 500;
  color: var(--treelist-text, #1a2233);
  letter-spacing: 0.01em;
  cursor: pointer;
  flex: 1;
  user-select: none;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  transition: color 0.2s;
}

span.treelist-name:hover {
  color: var(--treelist-name-hover, #1976d2);
}

button.treelist-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 4px;
  background: transparent;
  color: var(--treelist-toggle-color, #3b4256);
  font-size: 0.75rem;
  border: none;
  cursor: pointer;
  transition: background 0.2s, color 0.2s, transform 0.2s;
  flex-shrink: 0;
  padding: 0;
}

button.treelist-toggle:hover {
  background: var(--treelist-toggle-hover-bg, #e3e8ef);
  color: var(--treelist-toggle-hover-color, #1a2233);
}

button.treelist-toggle:active {
  transform: scale(0.95);
}

button.treelist-toggle:focus-visible {
  outline: 2px solid #1976d2;
  outline-offset: 2px;
}

.treelist-spacer {
  width: 24px;
  height: 24px;
  flex-shrink: 0;
}
button:not(.treelist-toggle) {
  background: var(--treelist-btn-bg, #f3f6fa);
  color: var(--treelist-btn-text, #1a2233);
  border: 1px solid var(--treelist-btn-border, #d0d7e6);
  border-radius: 8px;
  padding: 0.5rem 1rem;
  cursor: pointer;
  font-size: 0.875rem;
  font-weight: 500;
  box-shadow: 0 1px 2px 0 rgba(30, 34, 45, 0.03);
  transition: background 0.2s, color 0.2s, border 0.2s, transform 0.1s;
}

button:not(.treelist-toggle):hover {
  background: var(--treelist-btn-hover, #e3e8ef);
  color: var(--treelist-btn-hover-text, #0a0d12);
  border-color: var(--treelist-btn-hover-border, #b6c6e3);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px 0 rgba(30, 34, 45, 0.08);
}

button:not(.treelist-toggle):active {
  transform: translateY(0);
}
/* Dark Theme */
.treelist-dark {
  --treelist-bg: #23272f;
  --treelist-hover: #2d323c;
  --treelist-border: #353b47;
  --treelist-text: #f3f6fa;
  --treelist-name-hover: #60a5fa;
  --treelist-toggle-color: #b6c6e3;
  --treelist-toggle-hover-bg: #4a5160;
  --treelist-toggle-hover-color: #fff;
  --treelist-btn-bg: #353b47;
  --treelist-btn-text: #f3f6fa;
  --treelist-btn-border: #4a5160;
  --treelist-btn-hover: #4a5160;
  --treelist-btn-hover-text: #fff;
  --treelist-btn-hover-border: #b6c6e3;
  --checkbox-border: #5a6372;
  --checkbox-bg: #353b47;
  --checkbox-hover-border: #60a5fa;
  --checkbox-checked-bg: #60a5fa;
  --checkbox-checked-border: #60a5fa;
}

/* Light Theme */
.treelist-light {
  --treelist-bg: #ffffff;
  --treelist-hover: #f0f4fa;
  --treelist-border: #e3e8ef;
  --treelist-text: #1a2233;
  --treelist-name-hover: #1976d2;
  --treelist-toggle-color: #3b4256;
  --treelist-toggle-hover-bg: #e3e8ef;
  --treelist-toggle-hover-color: #1a2233;
  --treelist-btn-bg: #f3f6fa;
  --treelist-btn-text: #1a2233;
  --treelist-btn-border: #d0d7e6;
  --treelist-btn-hover: #e3e8ef;
  --treelist-btn-hover-text: #0a0d12;
  --treelist-btn-hover-border: #b6c6e3;
  --checkbox-border: #c1c9d4;
  --checkbox-bg: #ffffff;
  --checkbox-hover-border: #1976d2;
  --checkbox-checked-bg: #1976d2;
  --checkbox-checked-border: #1976d2;
}
